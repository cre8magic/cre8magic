{"version":3,"file":"ambient.js","mappings":"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","sources":["webpack://tosic.cre8magic.staticwebassets/./src/scripts/ambient/background.ts","webpack://tosic.cre8magic.staticwebassets/./src/scripts/ambient/breadcrumbs.ts","webpack://tosic.cre8magic.staticwebassets/./src/scripts/ambient/gtm.ts","webpack://tosic.cre8magic.staticwebassets/./src/scripts/ambient/mail-encrypt.ts","webpack://tosic.cre8magic.staticwebassets/./src/scripts/ambient/menu.ts","webpack://tosic.cre8magic.staticwebassets/./src/scripts/ambient/pdf-in-new-window.ts","webpack://tosic.cre8magic.staticwebassets/./src/scripts/ambient/to-top.ts","webpack://tosic.cre8magic.staticwebassets/./src/scripts/shared/constants.ts","webpack://tosic.cre8magic.staticwebassets/webpack/bootstrap","webpack://tosic.cre8magic.staticwebassets/webpack/startup"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst mail_encrypt_1 = require(\"./mail-encrypt\");\nconst menu_1 = require(\"./menu\");\nconst breadcrumbs_1 = require(\"./breadcrumbs\");\nconst pdf_in_new_window_1 = require(\"./pdf-in-new-window\");\nconst to_top_1 = require(\"./to-top\");\nconst gtm_1 = require(\"./gtm\");\n(0, to_top_1.initToTop)();\n(0, pdf_in_new_window_1.openPdfInNewWindow)();\n(0, mail_encrypt_1.initMailDecrypt)();\n(0, breadcrumbs_1.initBreadcrumb)();\n(0, menu_1.initOffCanvasEvents)();\n(0, gtm_1.buildCre8magicGtm)();\nwindow.cre8magic.gtm.activate('GTM-T8W5TBL');\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.initBreadcrumb = initBreadcrumb;\nconst constants_1 = require(\"../shared/constants\");\nfunction initBreadcrumb() {\n    if (constants_1.debug)\n        console.log(\"init breadcrumbs\");\n    setBreadcrumbsStyling();\n    window.addEventListener(\"resize\", setBreadcrumbsStyling);\n    document.addEventListener('scroll', setBreadcrumbsStyling);\n    var breadCrumbTrigger = document.querySelector(`.${constants_1.prefixBreadcrumbs}-trigger`);\n    if (breadCrumbTrigger != null) {\n        breadCrumbTrigger.addEventListener('click', () => {\n            const selected = document.querySelector(`.${constants_1.prefixBreadcrumbs}`);\n            if (constants_1.debug)\n                console.log(selected);\n            selected === null || selected === void 0 ? void 0 : selected.classList.toggle(`${constants_1.prefixBreadcrumbs}-open`);\n        });\n    }\n}\nfunction setBreadcrumbsStyling() {\n    console.log(\"test 2dm 2024-11-25b\");\n    var header = document.getElementById(`${constants_1.prefix}-page-navigation`);\n    if (header != null) {\n        var headerHeight = header.offsetHeight;\n        var breadcrumb = document.querySelector(`.${constants_1.prefixBreadcrumbs}`);\n        if (!breadcrumb)\n            return;\n        breadcrumb.style.top = headerHeight + \"px\";\n        var breadcrumbOffsetTop = breadcrumb.getBoundingClientRect().top;\n        if (breadcrumbOffsetTop <= headerHeight && scrollY != 0) {\n            breadcrumb.classList.add(\"bg-light\", \"shadow\");\n        }\n        else {\n            breadcrumb.classList.remove(\"bg-light\", \"shadow\");\n        }\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.buildCre8magicGtm = buildCre8magicGtm;\nconst constants_1 = require(\"../shared/constants\");\n// Temporary solution to add GTM, not final!\nconst debugGtm = constants_1.debug || true;\nfunction activateGtm(gtmKey) {\n    if (debugGtm)\n        console.log('2dm test activate GTM');\n    // <!-- Google Tag Manager -->\n    // <script>\n    (function (w, d, s, l, i) {\n        w[l] = w[l] || [];\n        w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });\n        var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';\n        j.async = true;\n        j.src =\n            'https://www.googletagmanager.com/gtm.js?id=' + i + dl;\n        f.parentNode.insertBefore(j, f);\n    })(window, document, 'script', 'dataLayer', gtmKey);\n    // </script>\n    // <!-- End Google Tag Manager -->\n}\nclass GtmInterop {\n    constructor() {\n        this.activate = activateGtm;\n    }\n    pageView() {\n        if (debugGtm)\n            console.log('gtm-interop - track page view');\n        gtag('event', 'blazor_page_view'); //\n    }\n}\nwindow.dataLayer = window.dataLayer || [];\nfunction gtag(target, more) {\n    if (constants_1.debug)\n        console.log('gtm - gtag');\n    window.dataLayer.push(arguments);\n}\nfunction buildCre8magicGtm() {\n    window.cre8magic = window.cre8magic || {};\n    window.cre8magic.gtm = window.cre8magic.gtm || new GtmInterop();\n    window.gtag = window.gtag || gtag;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.initMailDecrypt = initMailDecrypt;\nconst constants_1 = require(\"../shared/constants\");\nfunction initMailDecrypt() {\n    if (constants_1.debug)\n        console.log('initMailDecrypt');\n    /* mailencrypting */\n    setTimeout(function () {\n        let mailElement = document.querySelectorAll('[data-madr1]:not(.madr-done)');\n        mailElement.forEach((mail, index) => {\n            const maddr = mail.getAttribute('data-madr1') + '@' + mail.getAttribute('data-madr2') + '.' + mail.getAttribute('data-madr3');\n            const linktext = mail.getAttribute('data-linktext') ? mail.getAttribute('data-linktext') : maddr;\n            const a = document.createElement('a');\n            a.setAttribute('href', `mailto:${maddr}`);\n            a.innerHTML = linktext;\n            if (mail.parentElement)\n                mail.parentElement.appendChild(a);\n            mail.classList.add('madr-done');\n            mail.style.display = 'none';\n        });\n    }, 500);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.initOffCanvasEvents = initOffCanvasEvents;\nconst constants_1 = require(\"../shared/constants\");\n// Takes care of closing the offcanvas when clicking on a navigation link\n// The page is not reloaded, so the offcanvas does not close\nfunction initOffCanvasEvents() {\n    if (constants_1.debug)\n        console.log('initOffCanvasEvents');\n    //Offcanvas close on link click\n    var navLinks = document.querySelectorAll(\".mobile-navigation-link\");\n    var navOffcanvas = document.getElementById('offcanvasNavbar');\n    if (navOffcanvas) {\n        var bsNavOffcanvas = new bootstrap.Offcanvas(navOffcanvas);\n        navLinks.forEach(element => {\n            element.addEventListener('click', () => {\n                bsNavOffcanvas.hide();\n            });\n        });\n    }\n}\n","\"use strict\";\n// TODO: THIS PROBABLY doesn't work reliably, as it would need to be called again when the page changes\n// will probably need to be moved to the interop and called on every reload\n// or use a timeout similar to mail-decrypt\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.openPdfInNewWindow = openPdfInNewWindow;\n/* Open all PDF links in a new window */\nfunction openPdfInNewWindow() {\n    document.querySelectorAll('a').forEach((linkElem, index) => {\n        var _a;\n        if (linkElem.hasAttribute('href') && ((_a = linkElem.getAttribute('href')) === null || _a === void 0 ? void 0 : _a.endsWith('.pdf')))\n            linkElem.setAttribute('target', '_blank');\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.initToTop = initToTop;\nconst constants_1 = require(\"../shared/constants\");\nconst toTopElementId = `${constants_1.prefix}-to-top`;\nconst visibleClass = `visible`;\nfunction initToTop() {\n    console.log('init to top');\n    toTopShowHideOnScroll();\n}\nfunction toTopShowHideOnScroll() {\n    if (constants_1.debug)\n        console.log('toTopShowHideOnScroll');\n    document.addEventListener(\"scroll\", toTopButtonVisibility);\n}\nfunction toTopButtonVisibility() {\n    var toTopButton = document.getElementById(toTopElementId);\n    if (!toTopButton)\n        return;\n    // Ensure it has the event listener\n    toTopButton.addEventListener(\"click\", scrollTop);\n    // Todo: unsure why it does body + documentElement...\n    const show = document.body.scrollTop > 200 || document.documentElement.scrollTop > 200;\n    if (constants_1.debugDetailed)\n        console.log('to-top' + show ? \"show\" : \"hide\");\n    toTopButton.classList.toggle(visibleClass, show);\n}\nfunction scrollTop() {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.prefixLanguages = exports.prefixBreadcrumbs = exports.prefix = exports.debugDetailed = exports.debug = void 0;\nexports.debug = true;\nexports.debugDetailed = exports.debug && false;\nexports.prefix = 'theme';\nexports.prefixBreadcrumbs = `${exports.prefix}-breadcrumbs`;\nexports.prefixLanguages = `${exports.prefix}-languages`;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n__webpack_require__(519);\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_require__(673);\n__webpack_require__(177);\n__webpack_require__(320);\n__webpack_require__(384);\n__webpack_require__(43);\nvar __webpack_exports__ = __webpack_require__(412);\n"],"names":["mail_encrypt_1","menu_1","breadcrumbs_1","pdf_in_new_window_1","to_top_1","gtm_1","initToTop","openPdfInNewWindow","initMailDecrypt","initBreadcrumb","initOffCanvasEvents","buildCre8magicGtm","window","cre8magic","gtm","activate","Object","defineProperty","exports","value","constants_1","debug","console","log","setBreadcrumbsStyling","addEventListener","document","breadCrumbTrigger","querySelector","prefixBreadcrumbs","selected","classList","toggle","header","getElementById","prefix","headerHeight","offsetHeight","breadcrumb","style","top","getBoundingClientRect","scrollY","add","remove","GtmInterop","gtag","debugGtm","activateGtm","gtmKey","w","d","s","l","i","push","Date","getTime","event","f","getElementsByTagName","j","createElement","async","src","parentNode","insertBefore","constructor","this","pageView","target","more","dataLayer","arguments","setTimeout","querySelectorAll","forEach","mail","index","maddr","getAttribute","linktext","a","setAttribute","innerHTML","parentElement","appendChild","display","navLinks","navOffcanvas","bsNavOffcanvas","bootstrap","Offcanvas","element","hide","linkElem","_a","hasAttribute","endsWith","toTopButtonVisibility","toTopElementId","visibleClass","toTopButton","scrollTop","show","body","documentElement","debugDetailed","scrollTo","behavior","prefixLanguages","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__"],"sourceRoot":""}